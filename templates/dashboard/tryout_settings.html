{% extends 'base.html' %}

{% block title %}Settings - {{ tryout.title }}{% endblock %}

{% block content %}
<div class="container" style="margin-top: 40px;">
    <div style="margin-bottom: 20px;">
        <a href="{% url 'dashboard:tryout_list' %}" class="btn btn-small">← Kembali</a>
    </div>

    <div class="card" style="max-width: 700px; margin: 0 auto;">
        <h2 style="margin-bottom: 25px;">Settings Try Out</h2>
        
        <div style="background: #e3f2fd; padding: 15px; border-radius: 6px; margin-bottom: 25px;">
            <strong>{{ tryout.title }}</strong><br>
            <small style="color: #666;">{{ tryout.questions.count }} soal telah ditambahkan</small>
        </div>
        
        <form method="post">
            {% csrf_token %}
            
            <div class="form-group">
                <label>Judul Try Out</label>
                {{ form.title }}
            </div>
            
            <div class="form-group">
                <label>Deskripsi Detail</label>
                {{ form.description }}
                <small style="color: #666;">Jelaskan pelajaran apa saja yang ada di try out ini</small>
            </div>
            
            <div class="form-group">
                <label>Mata Pelajaran</label>
                {{ form.subjects }}
            </div>
            
            <div class="form-group">
                <label>Waktu Publish (Kapan bisa diakses)</label>
                {{ form.publish_time }}
            </div>
            
            <div class="form-group">
                <label>Durasi Ujian (menit)</label>
                {{ form.work_time_minutes }}
            </div>
            
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button type="submit" class="btn">Simpan Settings</button>
                
                {% if not tryout.is_published %}
                <button type="submit" name="publish" class="btn btn-success">
                    Publish Try Out
                </button>
                {% else %}
                <div style="background: #d4edda; color: #155724; padding: 10px 20px; border-radius: 6px; font-weight: 600;">
                    ✓ Try Out Sudah Dipublish
                </div>
                {% endif %}
            </div>
        </form>
    </div>
</div>
{% endblock %}
